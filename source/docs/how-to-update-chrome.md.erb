---
layout: post
title: How to update Chrome on Semaphore?
category: Build troubleshooting
---

Software updates on Semaphore are provided with [regular platfrom updates](/docs/platform-updates.html)
and every platform update includes the latest stable Chrome and ChromeDriver versions.

Currently, Semaphore supports Chrome version <%= package_version("chrome") %>
and ChromeDriver <%= package_version("chromedriver") %>.
For the list of all pre-installed tools reffer to our
[supported application stack](/docs/supported-stack.html) page.

If your developement process depends on the latest Chrome version which is not pre-installed on Semaphore,
add the following commands to the setup of the build

```bash
sudo touch /etc/apt/sources.list.d/google-chrome-source.list
install-package --update-new google-chrome-stable
```

These commands [cache](/docs/caching-between-builds.html) installations from APT with our `install-package` tool.
To get more detailed informations about its options,
refer to [this](/docs/how-to-install-dependency.html#caching-installations) page.

When the `chromedriver-helper` gem is used in projects, 
it's often configured to use the [latest available version of ChromeDriver](https://sites.google.com/a/chromium.org/chromedriver/downloads). 
This can then cause an incompatibility issue (shown below), 
indicating that the pre-installed Google Chrome version isn't supported.

In this case, the `chromedriver-helper` gem overrides the pre-installed version,
and the latest version is used instead of the included one.

```bash
session not created exception: Chrome version must be >= 65.0.3325.0 
(Driver info: chromedriver=2.38.551591 (bcc4a2cdef0f6b942b2bb8049068f65340fa2a69)
```

One of the following options can help when resolving this on Semaphore:

- update Chrome in the Semaphore environment by adding aforementioned commands to the setup of the build. 
- [configure](https://github.com/flavorjones/chromedriver-helper#specifying-a-version) `chromedriver-helper` gem to use a compatible ChromeDriver version (<%= package_version("chromedriver") %>)

For the fastest feedback loop, you can try these steps while in an [SSH session](/docs/ssh-access-to-build-environment.html).
